!function(n,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var e={exports:{}};t(e.exports),n.fableCore=e.exports}}(this,function(n){"use strict";function t(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var e=function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},o={interfaces:Symbol("interfaces"),typeName:Symbol("typeName")};n.Symbol=o;var u=n.Choice=function k(n,e){t(this,k),this.Case=n,this.Fields=[e]},i=n.Util=function C(){t(this,C)};i.__types=new Map,i.setInterfaces=function(n,t,e){var r=n[o.interfaces];if(Array.isArray(t)&&t.length>0)if(Array.isArray(r))for(var u=0;u<t.length;u++)r.push(t[u]);else n[o.interfaces]=t;e&&(n[o.typeName]=e,i.__types.set(e,n.constructor))},i.hasInterface=function(n,t){return Array.isArray(n[o.interfaces])&&n[o.interfaces].indexOf(t)>=0},i.getRestParams=function(n,t){for(var e=n.length,r=Array(e>t?e-t:0),o=t;e>o;o++)r[o-t]=n[o];return r},i.compareTo=function(n,t){function e(n){return Array.isArray(n)||ArrayBuffer.isView(n)||n instanceof p||n instanceof Map||n instanceof Set}function o(n){return n instanceof Map||n instanceof Set?Array.from(n).sort():n}if(("undefined"==typeof n?"undefined":r(n))!=("undefined"==typeof t?"undefined":r(t)))return-1;if(null!=n&&null!=t&&"object"==("undefined"==typeof n?"undefined":r(n))&&"object"==("undefined"==typeof t?"undefined":r(t))){var u;if(Object.getPrototypeOf(n)!=Object.getPrototypeOf(t))return-1;if(i.hasInterface(n,"System.IComparable"))return n.compareTo(t);if(e(n))return u=i.compareTo(y.count(n),y.count(t)),0!=u?u:y.fold2(function(n,t,e){return 0!=n?n:i.compareTo(t,e)},0,o(n),o(t));if(n instanceof Date)return t>n?-1:n>t?1:0;var a=Object.getOwnPropertyNames(n),c=Object.getOwnPropertyNames(t);return u=i.compareTo(a.length,c.length),0!=u?u:y.fold2(function(e,r,o){return 0!=e?e:i.compareTo(n[r],t[o])},0,a.sort(),c.sort())}return t>n?-1:n>t?1:0},i.createObj=function(n){return y.fold(function(n,t){return n[t[0]]=t[1],n},{},n)},i.toJson=function(n){function t(n,t){if(ArrayBuffer.isView(t))return Array.from(t);if("object"==("undefined"==typeof t?"undefined":r(t))){if(t instanceof p||t instanceof Map||t instanceof Set)throw"JSON serialization of List, Map or Set is not supported";if(t[o.typeName]){var e={__type:t[o.typeName]};return Object.assign(e,t)}}return t}return JSON.stringify(n,t)},i.ofJson=function(n){function t(n,t){if("object"==("undefined"==typeof t?"undefined":r(t))&&t.__type){var e=i.__types.get(t.__type);if(e)return delete t.__type,Object.assign(new e,t)}return t}return JSON.parse(n,t)};var a=n.TimeSpan=function I(){t(this,I)};a.create=function(){var n=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],e=arguments.length<=2||void 0===arguments[2]?0:arguments[2],r=arguments.length<=3||void 0===arguments[3]?0:arguments[3],o=arguments.length<=4||void 0===arguments[4]?0:arguments[4];switch(arguments.length){case 1:return arguments[0]/1e4;case 3:n=0,t=arguments[0],e=arguments[1],r=arguments[2],o=0;break;default:n=arguments[0],t=arguments[1],e=arguments[2],r=arguments[3],o=arguments[4]||0}return 864e5*n+36e5*t+6e4*e+1e3*r+o},a.fromTicks=a.create,a.fromDays=function(n){return a.create(n,0,0,0)},a.fromHours=function(n){return a.create(n,0,0)},a.fromMinutes=function(n){return a.create(0,n,0)},a.fromSeconds=function(n){return a.create(0,0,n)},a.days=function(n){return Math.floor(n/864e5)},a.hours=function(n){return Math.floor(n%864e5/36e5)},a.minutes=function(n){return Math.floor(n%36e5/6e4)},a.seconds=function(n){return Math.floor(n%6e4/1e3)},a.milliseconds=function(n){return Math.floor(n%1e3)},a.ticks=function(n){return 1e4*n},a.totalDays=function(n){return n/864e5},a.totalHours=function(n){return n/36e5},a.totalMinutes=function(n){return n/6e4},a.totalSeconds=function(n){return n/1e3},a.duration=Math.abs,a.negate=function(n){return-n},a.add=function(n,t){return n+t},a.subtract=function(n,t){return n-t},a.compareTo=i.compareTo,a.compare=i.compareTo;var c=function T(){t(this,T)};c.__changeKind=function(n,t){var e;return n.kind==t?n:(e=new Date(n.getTime()),e.kind=t,e)},c.__getValue=function(n,t){return 1==n.kind?n["getUTC"+t]():n["get"+t]()},c.minValue=function(){return c.parse(-864e13,1)},c.maxValue=function(){return c.parse(864e13,1)},c.parse=function(n,t){var e=null==n?new Date:new Date(n);if(isNaN(e.getTime()))throw"The string is not a valid Date.";return e.kind=t||2,e},c.create=function(n,t,e,r,o,u,i,a){r=r||0,o=o||0,u=u||0,i=i||0,a=a||2;var c=1===a?new Date(Date.UTC(n,t-1,e,r,o,u,i)):new Date(n,t-1,e,r,o,u,i);if(isNaN(c.getTime()))throw"The parameters describe an unrepresentable Date.";return c.kind=a,c},c.now=c.parse,c.utcNow=function(){return c.parse(null,1)},c.today=function(){return c.date(c.now())},c.isLeapYear=function(n){return n%4==0&&n%100!=0||n%400==0},c.daysInMonth=function(n,t){return 2==t?c.isLeapYear(n)?29:28:t>=8?t%2==0?31:30:t%2==0?30:31},c.toUniversalTime=function(n){return c.__changeKind(n,1)},c.toLocalTime=function(n){return c.__changeKind(n,2)},c.timeOfDay=function(n){return a.create(c.hour(n),c.minute(n),c.second(n))},c.date=function(n){return c.create(c.year(n),c.month(n),c.day(n),0,0,0,0,n.kind)},c.day=function(n){return c.__getValue(n,"Date")},c.hour=function(n){return c.__getValue(n,"Hours")},c.millisecond=function(n){return c.__getValue(n,"Milliseconds")},c.minute=function(n){return c.__getValue(n,"Minutes")},c.month=function(n){return c.__getValue(n,"Month")+1},c.second=function(n){return c.__getValue(n,"Seconds")},c.year=function(n){return c.__getValue(n,"FullYear")},c.ticks=function(n){return 1e4*(n.getTime()+62135604e6)},c.toBinary=c.ticks,c.dayOfWeek=function(n){return c.__getValue(n,"Day")},c.dayOfYear=function(n){for(var t=c.year(n),e=c.month(n),r=c.day(n),o=1;e>o;o++)r+=c.daysInMonth(t,o);return r},c.add=function(n,t){return c.parse(n.getTime()+t,n.kind)},c.op_Addition=c.add,c.addDays=function(n,t){return c.parse(n.getTime()+864e5*t,n.kind)},c.addHours=function(n,t){return c.parse(n.getTime()+36e5*t,n.kind)},c.addMinutes=function(n,t){return c.parse(n.getTime()+6e4*t,n.kind)},c.addSeconds=function(n,t){return c.parse(n.getTime()+1e3*t,n.kind)},c.addMilliseconds=function(n,t){return c.parse(n.getTime()+t,n.kind)},c.addTicks=function(n,t){return c.parse(n.getTime()+t/1e4,n.kind)},c.addYears=function(n,t){var e=c.month(n),r=c.year(n)+t,o=c.daysInMonth(r,e),u=Math.min(o,c.day(n));return c.create(r,e,u,c.hour(n),c.minute(n),c.second(n),c.millisecond(n),n.kind)},c.addMonths=function(n,t){var e=c.month(n)+t,r=0,o=0;e>12?(r=e%12,o=Math.floor(e/12),e=r):1>e&&(r=12+e%12,o=Math.floor(e/12)+(12==r?-1:0),e=r);var u=c.year(n)+o,i=c.daysInMonth(u,e),a=Math.min(i,c.day(n));return c.create(u,e,a,c.hour(n),c.minute(n),c.second(n),c.millisecond(n),n.kind)},c.subtract=function(n,t){return"number"==typeof t?c.parse(n.getTime()-t,n.kind):n.getTime()-t.getTime()},c.op_Subtraction=c.subtract,c.toLongDateString=function(n){return n.toDateString()},c.toShortDateString=function(n){return n.toLocaleDateString()},c.toLongTimeString=function(n){return n.toLocaleTimeString()},c.toShortTimeString=function(n){return n.toLocaleTimeString().replace(/:\d\d(?!:)/,"")},c.equals=function(n,t){return n.getTime()==t.getTime()},c.compareTo=i.compareTo,c.compare=i.compareTo,n.Date=c;var f=n.Timer=function(){function n(e){t(this,n),this.interval=e>0?e:100,this.autoReset=!0,this._elapsed=new x}return e(n,[{key:"elapsed",get:function(){return this._elapsed}},{key:"enabled",get:function(){return this._enabled},set:function(n){if(!this._isDisposed&&this._enabled!=n)if(this._enabled=n)if(this.autoReset){var t=this;this._intervalId=setInterval(function(){t.autoReset||(t.enabled=!1),t._elapsed.trigger(new Date)},this.interval)}else{var t=this;this._timeoutId=setTimeout(function(){t.enabled=!1,t._timeoutId=0,t.autoReset&&(t.enabled=!0),t._elapsed.trigger(new Date)},this.interval)}else this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=0),this._intervalId&&(clearInterval(this._intervalId),this._intervalId=0)}}]),n}();f.prototype.dispose=f.prototype.close=function(){this.enabled=!1,this._isDisposed=!0},f.prototype.start=function(){this.enabled=!0},f.prototype.stop=function(){this.enabled=!1},i.setInterfaces(f.prototype,["System.IDisposable"]);var s=function E(){t(this,E)};s.fsFormatRegExp=/(^|[^%])%([0+ ]*)(-?\d+)?(?:\.(\d+))?(\w)/,s.fsFormat=function(n){function t(n){return!(null===n||"object"!==("undefined"==typeof n?"undefined":r(n))||n instanceof Number||n instanceof String||n instanceof Boolean)}function e(n,e){return n.replace(s.fsFormatRegExp,function(n,r,o,u,i,a){switch(a){case"f":case"F":e=e.toFixed(i||6);break;case"g":case"G":e=e.toPrecision(i);break;case"e":case"E":e=e.toExponential(i);break;case"A":e=(e instanceof Map?"map ":e instanceof Set?"set ":"")+JSON.stringify(e,function(n,e){return e&&e[Symbol.iterator]&&!Array.isArray(e)&&t(e)?Array.from(e):e})}var c=o.indexOf("+")>=0&&parseInt(e)>=0;if(!isNaN(u=parseInt(u))){var f=u>=0&&o.indexOf("0")>=0?"0":" ";e=s.padLeft(e,Math.abs(u)-(c?1:0),f,0>u)}return r+(c?"+"+e:e)})}function o(n){return function(t){var r=e(n,t);return s.fsFormatRegExp.test(r)?o(r):u(r.replace(/%%/g,"%"))}}var u;return function(t){return u=t,s.fsFormatRegExp.test(n)?o(n):u(n)}},s.formatRegExp=/\{(\d+)(,-?\d+)?(?:\:(.+?))?\}/g,s.format=function(n,t){return t=i.getRestParams(arguments,1),n.replace(s.formatRegExp,function(n,e,r,o){var u=t[e];if("number"==typeof u)switch((o||"").substring(0,1)){case"f":case"F":u=o.length>1?u.toFixed(o.substring(1)):u.toFixed(2);break;case"g":case"G":u=o.length>1?u.toPrecision(o.substring(1)):u.toPrecision();break;case"e":case"E":u=o.length>1?u.toExponential(o.substring(1)):u.toExponential();break;case"p":case"P":u=(o.length>1?(100*u).toFixed(o.substring(1)):(100*u).toFixed(2))+" %"}else if(u instanceof Date){if(1===o.length)switch(o){case"D":u=u.toDateString();break;case"T":u=u.toLocaleTimeString();break;case"d":u=u.toLocaleDateString();break;case"t":u=u.toLocaleTimeString().replace(/:\d\d(?!:)/,"")}u=o.replace(/\w+/g,function(n){var t=n;switch(n.substring(0,1)){case"y":t=n.length<4?c.year(u)%100:c.year(u);break;case"h":t=u.getHours()>12?c.hour(u)%12:c.hour(u);break;case"M":t=c.month(u);break;case"d":t=c.day(u);break;case"H":t=c.hour(u);break;case"m":t=c.minute(u);break;case"s":t=c.second(u)}return t!==n&&10>t&&n.length>1&&(t="0"+t),t})}return isNaN(r=parseInt((r||"").substring(1)))||(u=s.padLeft(u,Math.abs(r)," ",0>r)),u})},s.init=function(n,t){if(0>n)throw"String length must be non-negative";for(var e=new Array(n),r=0;n>r;r++)e[r]=t(r);return e.join("")},s.isNullOrEmpty=function(n){return"string"!=typeof n||0==n.length},s.isNullOrWhiteSpace=function(n){return"string"!=typeof n||/^\s*$/.test(n)},s.padLeft=function(n,t,e,r){var o=-1;for(e=e||" ",n=String(n),t-=n.length;++o<t;)n=r?n+e:e+n;return n},s.padRight=function(n,t,e){return s.padLeft(n,t,e,!0)},s.replace=function(n,t,e){return n.replace(new RegExp(l.escape(t),"g"),e)},s.replicate=function(n,t){return s.init(n,function(){return t})},s.split=function(n,t,e,r){if(e="number"==typeof e?e:null,r="number"==typeof r?r:null,0>e)throw"Count cannot be less than zero";if(0===e)return[];t=Array.isArray(t)?t:i.getRestParams(arguments,1),t=t.filter(function(n){return n}).map(function(n){return l.escape(n)}),t=t.length>0?t:[" "];for(var o,u=0,a=[],c=new RegExp(t.join("|"),"g");(null==e||e>1)&&null!==(o=c.exec(n));)(!r||o.index-u>0)&&(e=null!=e?e-1:e,a.push(n.substring(u,o.index))),u=c.lastIndex;return(!r||n.length-u>0)&&a.push(n.substring(u)),a},s.join=function(n,t){return t="string"==typeof t?i.getRestParams(arguments,1):t,(Array.isArray(t)?t:Array.from(t)).join(n)},s.concat=s.join,s.endsWith=function(n,t){var e=n.lastIndexOf(t);return e>=0&&e==n.length-t.length},s.newGuid=function(){var n,t,e="";for(n=0;32>n;n++)t=16*Math.random()|0,(8===n||12===n||16===n||20===n)&&(e+="-"),e+=(12===n?4:16===n?3&t|8:t).toString(16);return e},n.String=s;var l=function N(){t(this,N)};l.create=function(n,t){var e="g";return e+=1&t?"i":"",e+=2&t?"m":"",new RegExp(n,e)},l.escape=function(n){return n.replace(/[\-\[\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},l.unescape=function(n){return n.replace(/\\([\-\[\/\{\}\(\)\*\+\?\.\\\^\$\|])/g,"$1")},l.isMatch=function(n,t,e){var r=n instanceof RegExp?(r=n,n=t,r.lastIndex=null!=e?e:0,r):r=l.create(t,e);return r.test(n)},l.match=function(n,t,e){var r=n instanceof RegExp?(r=n,n=t,r.lastIndex=null!=e?e:0,r):r=l.create(t,e);return r.exec(n)},l.matches=function(n,t,e){var r=n instanceof RegExp?(r=n,n=t,r.lastIndex=null!=e?e:0,r):r=l.create(t,e);if(!r.global)throw"Non-global RegExp";for(var o,u=[];null!==(o=r.exec(n));)u.push(o);return u},l.options=function(n){var t=256;return t|=n.ignoreCase?1:0,t|=n.multiline?2:0},l.replace=function(n,t,e,r,o){if("string"==typeof n){var u=n;n=l.create(t,r),t=u,r=void 0}if("function"==typeof e){r=null==r?-1:r,o=null==o?0:o;var i=function(){var n=arguments[0];if(0!==r){r--;for(var t=[],o=arguments.length,u=0;o-2>u;u++)t.push(arguments[u]);t.index=arguments[o-2],t.input=arguments[o-1],n=e(t)}return n};return t.substring(0,o)+t.substring(o).replace(n,i)}if(null!=r){var a;o=null==o?0:o;var c=t.substring(o),f=l.matches(n,c),s=f.length>r?(a=f[r-1],c.substring(0,a.index+a[0].length)):c;return t.substring(0,o)+s.replace(n,e)+t.substring(o+s.length)}return t.replace(n,e)},l.split=function(n,t,e,r){if("string"==typeof n){var o=n;n=l.create(t,e),t=o,e=void 0}return t=null!=r?t.substring(r):t,t.split(n,e)},n.RegExp=l;var d=function M(){t(this,M)};d.addRangeInPlace=function(n,t){y.iter(function(n){t.push(n)},n)},d.blit=function(n,t,e,r,o){for(;o--;)e[r++]=n[t++]},d.partition=function(n,t){for(var e=[],r=[],o=0,u=0,i=0;i<t.length;i++)n(t[i])?e[o++]=t[i]:r[u++]=t[i];return[e,r]},d.permute=function(n,t){for(var e=t.map(function(){return 0}),r=new Array(t.length),o=0;o<t.length;o++){var u=n(o);if(0>u||u>=t.length)throw"Not a valid permutation";e[u]=t[o],r[u]=1}for(o=0;o<t.length;o++)if(1!=r[o])throw"Not a valid permutation";return e},d.removeInPlace=function(n,t){var e=t.indexOf(n);return e>-1?(t.splice(e,1),!0):!1},d.setSlice=function(n,t,e,r){var o=(e||n.length-1)-t;if(ArrayBuffer.isView(n)&&r.length<=o)n.set(r,t);else for(var u=0|t,i=0;o>=i;u++,i++)n[u]=r[i]},d.sortInPlaceBy=function(n,t,e){return e=e||1,t.sort(function(t,r){return t=n(t),r=n(r),(r>t?-1:t==r?0:1)*e})},d.unzip=function(n){for(var t=new Array(n.length),e=new Array(n.length),r=0;r<n.length;r++)t[r]=n[r][0],e[r]=n[r][1];return[t,e]},d.unzip3=function(n){for(var t=new Array(n.length),e=new Array(n.length),r=new Array(n.length),o=0;o<n.length;o++)t[o]=n[o][0],e[o]=n[o][1],r[o]=n[o][2];return[t,e,r]},n.Array=d;var p=n.List=function(){function n(e,r){t(this,n),this.head=e,this.tail=r}return n.ofArray=function(t,e){for(var r=e||new n,o=t.length-1;o>=0;o--)r=new n(t[o],r);return r},n.prototype[Symbol.iterator]=function(){var n=this;return{next:function(){var t=n;return n=n.tail,{done:null==t.tail,value:t.head}}}},n.prototype.append=function(t){return n.append(this,t)},n.append=function(t,e){return y.fold(function(t,e){return new n(e,t)},e,n.rev(t))},n.prototype.choose=function(t,e){return n.choose(t,this)},n.choose=function(t,e){var r=y.fold(function(e,r){var o=t(r);return null!=o?new n(o,e):e},new n,e);return n.rev(r)},n.prototype.collect=function(t){return n.collect(t,this)},n.collect=function(t,e){return y.fold(function(n,e){return n.append(t(e))},new n,e)},n.concat=function(t){return n.collect(function(n){return n},t)},n.prototype.filter=function(t){return n.filter(t,this)},n.filter=function(t,e){return n.rev(y.fold(function(e,r){return t(r)?new n(r,e):e},new n,e))},n.prototype.where=function(t){return n.filter(t,this)},n.where=function(t,e){return n.filter(t,e)},n.init=function(t,e){if(0>t)throw"List length must be non-negative";for(var r=new n,o=1;t>=o;o++)r=new n(e(t-o),r);return r},n.prototype.map=function(t){return n.map(t,this)},n.map=function(t,e){return n.rev(y.fold(function(e,r){return new n(t(r),e)},new n,e))},n.prototype.mapi=function(t){return n.mapi(t,this)},n.mapi=function(t,e){return n.rev(y.fold(function(e,r,o){return new n(t(o,r),e)},new n,e))},n.prototype.partition=function(t){return n.partition(t,this)},n.partition=function(t,e){var r=[new n,new n];return y.fold(function(e,r){var o=e[0],u=e[1],i=[new n(r,o),u],a=[o,new n(r,u)];return t(r)?i:a},r,n.rev(e))},n.replicate=function(t,e){return n.init(t,function(){return e})},n.prototype.rev=function(){return n.rev(this)},n.rev=function(t){return y.fold(function(t,e){return new n(e,t)},new n,t)},n.singleton=function(t){return new n(t,new n)},n.prototype.slice=function(t,e){return n.slice(t,e,this)},n.slice=function(t,e,r){var o=null==t,u=null==e;return n.rev(y.fold(function(r,i,a){return(o||a>=t)&&(u||e>=a)?new n(i,r):r},new n,r))},n.unzip=function(t){var e=[new n,new n];return y.foldBack(function(t,e){return[new n(t[0],e[0]),new n(t[1],e[1])]},t,e)},n.unzip3=function(t){var e=[new n,new n,new n];return y.foldBack(function(t,e){return[new n(t[0],e[0]),new n(t[1],e[1]),new n(t[2],e[2])]},t,e)},e(n,[{key:"length",get:function(){return y.fold(function(n,t){return n+1},0,this)}}]),n}(),y=n.Seq=function(){function n(){t(this,n)}return n.fold=function(n,t,e){if(Array.isArray(e)||ArrayBuffer.isView(e))return e.reduce(n,t);for(var r=null,o=0,u=e[Symbol.iterator]();r=u.next(),!r.done;o++)t=n(t,r.value,o);return t},n.foldBack=function(n,t,e){for(var r=Array.isArray(t)||ArrayBuffer.isView(t)?t:Array.from(t),o=r.length-1;o>=0;o--)e=n(r[o],e,o);return e},n.fold2=function(n,t,e,r){for(var o=e[Symbol.iterator](),u=r[Symbol.iterator](),i=void 0,a=void 0,c=0;i=o.next(),a=u.next(),!i.done&&!a.done;c++)t=n(t,i.value,a.value,c);return t},n.count=function(t){return Array.isArray(t)||ArrayBuffer.isView(t)?t.length:n.fold(function(n,t){return n+1},0,t)},n}();y.__failIfNone=function(n){if(null==n)throw"Seq did not contain any matching element";return n},y.toList=function(n){return y.foldBack(function(n,t){return new p(n,t)},n,new p)},y.ofList=function(n){return y.delay(function(){return y.unfold(function(n){return null!=n.tail?[n.head,n.tail]:null},n)})},y.ofArray=function(n){return y.delay(function(){return y.unfold(function(t){return t<n.length?[n[t],t+1]:null},0)})},y.append=function(n,t){return y.delay(function(){var e=!1,r=[n[Symbol.iterator](),t];return y.unfold(function(){var n;if(!e){if(n=r[0].next(),!n.done)return[n.value,r];e=!0,r=[null,r[1][Symbol.iterator]()]}return n=r[1].next(),n.done?null:[n.value,r]},r)})},y.average=function(n){var t=1,e=y.reduce(function(n,e){return t++,n+e},n);return e/t},y.averageBy=function(n,t){var e=1,r=y.reduce(function(t,r){return e++,(2===e?n(t):t)+n(r)},t);return r/e},y.countBy=function(n,t){return y.map(function(n){return[n[0],y.count(n[1])]},y.groupBy(n,t))},y.concat=function(n){return y.delay(function(){var t=n[Symbol.iterator]();return y.unfold(function(n){for(var e,r=null,o=!1;!o;)null==n?(e=t.next(),e.done?o=!0:n=e.value[Symbol.iterator]()):(e=n.next(),e.done?n=null:(r=e.value,o=!0));return null!=n&&null!=r?[r,n]:null},null)})},y.collect=function(n,t){return y.concat(y.map(n,t))},y.choose=function(n,t){var e=function r(t){var e=t.next();if(!e.done){var o=n(e.value);return null!=o?[o,t]:r(t)}};return y.delay(function(){return y.unfold(function(n){return e(n)},t[Symbol.iterator]())})},y.compareWith=function(n,t,e){var r=y.tryFind(function(n){return 0!=n},y.map2(function(t,e){return n(t,e)},t,e));return null!=r?r:y.count(t)-y.count(e)},y.delay=function(n){var t={};return t[Symbol.iterator]=function(){return n()[Symbol.iterator]()},t},y.distinctBy=function(n,t){return y.choose(function(n){return n[0]},y.scan(function(t,e){var r=t[1],o=n(e);return r.has(o)?[null,r]:[e,r.add(o)]},[null,new Set],t))},y.distinct=function(n){return y.distinctBy(function(n){return n},n)},y.empty=function(){return y.unfold(function(){})},y.enumerateWhile=function(n,t){return y.concat(y.unfold(function(){return n()?[t,!0]:null}))},y.enumerateThenFinally=function(n,t){return y.delay(function(){var e;try{e=n[Symbol.iterator]()}finally{t()}return y.unfold(function(n){try{var e=n.next();return e.done?null:[e.value,n]}finally{t()}},e)})},y.enumerateUsing=function(n,t){var e=!1,r=function(){e||(e=!0,n.dispose())};try{return y.enumerateThenFinally(t(n),r)}finally{r()}},y.exactlyOne=function(n){var t=n[Symbol.iterator](),e=t.next();if(e.done)throw"Seq was empty";var r=t.next();if(!r.done)throw"Seq had multiple items";return e.value},y.exists=function(n,t){var e=function r(t){var e=t.next();return!e.done&&(n(e.value)||r(t))};return e(t[Symbol.iterator]())},y.exists2=function(n,t,e){var r=function o(t,e){var r=t.next(),u=e.next();return!r.done&&!u.done&&(n(r.value,u.value)||o(t,e))};return r(t[Symbol.iterator](),e[Symbol.iterator]())},y.filter=function(n,t){var e=function r(t){var e=t.next();return e.done?void 0:n(e.value)?[e.value,t]:r(t)};return y.delay(function(){return y.unfold(e,t[Symbol.iterator]())})},y.where=y.filter,y.foldBack2=function(n,t,e,r){for(var o=Array.isArray(t)||ArrayBuffer.isView(t)?t:Array.from(t),u=Array.isArray(e)||ArrayBuffer.isView(e)?e:Array.from(e),i=o.length-1;i>=0;i--)r=n(o[i],u[i],r,i);return r},y.forall=function(n,t){return y.fold(function(t,e){return t&&n(e)},!0,t)},y.forall2=function(n,t,e){return y.fold2(function(t,e,r){return t&&n(e,r)},!0,t,e)},y.groupBy=function(n,t){return y.fold(function(t,e){var r=n(e),o=t.get(r);return null!=o?t.set(r,new p(e,o)):t.set(r,new p(e,new p))},new Map,t)},y.tryHead=function(n){var t=n[Symbol.iterator](),e=t.next();return e.done?null:e.value},y.head=function(n){return y.__failIfNone(y.tryHead(n))},y.init=function(n,t){return y.delay(function(){return y.unfold(function(e){return n>e?[t(e),e+1]:null},0)})},y.initInfinite=function(n){return y.delay(function(){return y.unfold(function(t){return[n(t),t+1]},0)})},y.tryItem=function(n,t){if(0>n)return null;if(Array.isArray(t)||ArrayBuffer.isView(t))return n<t.length?t[n]:null;for(var e=0,r=t[Symbol.iterator]();;e++){var o=r.next();if(o.done)return null;if(e===n)return o.value}},y.item=function(n,t){return y.__failIfNone(y.tryItem(n,t))},y.iter=function(n,t){y.fold(function(t,e){n(e)},null,t)},y.iter2=function(n,t,e){y.fold2(function(t,e,r){n(e,r)},null,t,e)},y.iteri=function(n,t){y.fold(function(t,e,r){n(r,e)},null,t)},y.iteri2=function(n,t,e){y.fold2(function(t,e,r,o){n(o,e,r)},null,t,e)},y.isEmpty=function(n){var t=n[Symbol.iterator]();return t.next().done},y.tryLast=function(n){try{return y.reduce(function(n,t){return t},n)}catch(t){return null}},y.last=function(n){return y.__failIfNone(y.tryLast(n))},y.map=function(n,t){return y.delay(function(){return y.unfold(function(t){var e=t.next();return e.done?null:[n(e.value),t]},t[Symbol.iterator]())})},y.mapi=function(n,t){return y.delay(function(){var e=0;return y.unfold(function(t){var r=t.next();return r.done?null:[n(e++,r.value),t]},t[Symbol.iterator]())})},y.map2=function(n,t,e){return y.delay(function(){var r=t[Symbol.iterator](),o=e[Symbol.iterator]();return y.unfold(function(){var t=r.next(),e=o.next();return t.done||e.done?null:[n(t.value,e.value),null]})})},y.mapi2=function(n,t,e){return y.delay(function(){var r=0,o=t[Symbol.iterator](),u=e[Symbol.iterator]();return y.unfold(function(){var t=o.next(),e=u.next();return t.done||e.done?null:[n(r++,t.value,e.value),null]})})},y.map3=function(n,t,e,r){return y.delay(function(){var o=t[Symbol.iterator](),u=e[Symbol.iterator](),i=r[Symbol.iterator]();return y.unfold(function(){var t=o.next(),e=u.next(),r=i.next();return t.done||e.done||r.done?null:[n(t.value,e.value,r.value),null]})})},y.max=function(n){return y.reduce(function(n,t){return Math.max(n,t)},n)},y.maxBy=function(n,t){return y.reduce(function(t,e){return n(e)>n(t)?e:t},t)},y.min=function(n){return y.reduce(function(n,t){return Math.min(n,t)},n)},y.minBy=function(n,t){return y.reduce(function(t,e){return n(e)>n(t)?t:e},t)},y.pairwise=function(n){return y.skip(1,y.scan(function(n,t){return[n[1],t]},[0,0],n))},y.permute=function(n,t){var e=Array.from(t);return y.ofArray(d.permute(n,e))},y.rangeStep=function(n,t,e){if(0===t)throw"Step cannot be 0";return y.unfold(function(n){return t>0&&e>=n||0>t&&n>=e?[n,n+t]:null},n)},y.rangeChar=function(n,t){return y.unfold(function(n){return t>=n?[n,String.fromCharCode(n.charCodeAt(0)+1)]:null},n)},y.range=function(n,t){return y.rangeStep(n,1,t)},y.readonly=function(n){return y.map(function(n){return n},n)},y.reduce=function(n,t){if(Array.isArray(t)||ArrayBuffer.isView(t))return t.reduce(n);var e=t[Symbol.iterator](),r=e.next();if(r.done)throw"Seq was empty";for(var o=r.value;r=e.next(),!r.done;)o=n(o,r.value);return o},y.reduceBack=function(n,t){var e=Array.isArray(t)||ArrayBuffer.isView(t)?t:Array.from(t);if(0===e.length)throw"Seq was empty";for(var r=e[e.length-1],o=e.length-2;o>=0;o--)r=n(e[o],r,o);return r},y.replicate=function(n,t){return y.init(n,function(){return t})},y.rev=function(n){var t=Array.isArray(n)||ArrayBuffer.isView(n)?n.slice(0):Array.from(n);return t.reverse()},y.scan=function(n,t,e){return y.delay(function(){var r=e[Symbol.iterator]();return y.unfold(function(e){if(null==e)return[t,t];var o=r.next();return o.done?void 0:(e=n(e,o.value),[e,e])},null)})},y.scanBack=function(n,t,e){return y.rev(y.scan(function(t,e){return n(e,t)},e,y.rev(t)))},y.singleton=function(n){return y.unfold(function(n){return null!=n?[n,null]:null},n)},y.skip=function(n,t){var e={};return e[Symbol.iterator]=function(){for(var e=t[Symbol.iterator](),r=1;n>=r;r++)if(e.next().done)throw"Seq has not enough elements";return e},e},y.skipWhile=function(n,t){return y.delay(function(){var e=!1;return y.filter(function(t){return e||(e=!n(t))},t)})},y.sortWith=function(n,t){var e=Array.from(t);return y.ofArray(e.sort(n))},y.sum=function(n,t){return t=t||function(n,t){return n+t},y.reduce(function(n,e){return t(n,e)},n)},y.sumBy=function(n,t,e){var r=!0;return e=e||function(n,t){return n+t},y.reduce(function(t,e){return t=r?n(t):t,r=!1,t+n(e)},t)},y.tail=function(n){var t=n[Symbol.iterator](),e=t.next();if(e.done)throw"Seq was empty";var r={};return r[Symbol.iterator]=function(){return t},r},y.take=function(n,t,e){return y.delay(function(){var r=t[Symbol.iterator]();return y.unfold(function(t){if(n>t){var o=r.next();if(!o.done)return[o.value,t+1];if(!e)throw"Seq has not enough elements"}},0)})},y.truncate=function(n,t){return y.take(n,t,!0)},y.takeWhile=function(n,t){return y.delay(function(){var e=t[Symbol.iterator]();return y.unfold(function(t){var r=e.next();return!r.done&&n(r.value)?[r.value,null]:void 0},0)})},y.tryFind=function(n,t){for(var e=void 0,r=0,o=t[Symbol.iterator]();;r++){if(e=o.next(),e.done)return null;if(n(e.value,r))return e.value}},y.find=function(n,t){return y.__failIfNone(y.tryFind(n,t))},y.tryFindBack=function(n,t){for(var e=null,r=void 0,o=0,u=t[Symbol.iterator]();;o++){if(r=u.next(),r.done)return e;n(r.value,o)&&(e=r.value)}},y.findBack=function(n,t){return y.__failIfNone(y.tryFindBack(n,t))},y.tryFindIndex=function(n,t){for(var e=void 0,r=0,o=t[Symbol.iterator]();;r++){if(e=o.next(),e.done)return null;if(n(e.value,r))return r}},y.findIndex=function(n,t){return y.__failIfNone(y.tryFindIndex(n,t))},y.tryFindIndexBack=function(n,t){for(var e=null,r=void 0,o=0,u=t[Symbol.iterator]();;o++){if(r=u.next(),r.done)return e;n(r.value,o)&&(e=o)}},y.findIndexBack=function(n,t){return y.__failIfNone(y.tryFindIndexBack(n,t))},y.tryPick=function(n,t){for(var e=void 0,r=0,o=t[Symbol.iterator]();e=o.next(),!e.done;r++){var u=n(e.value,r);if(null!=u)return u}},y.pick=function(n,t){return y.__failIfNone(y.tryPick(n,t))},y.unfold=function(n,t){var e={};return e[Symbol.iterator]=function(){return{next:function(){var e=n(t);return null!=e?(t=e[1],{done:!1,value:e[0]}):{done:!0}}}},e},y.zip=function(n,t){return y.map2(function(n,t){return[n,t]},n,t)},y.zip3=function(n,t,e){return y.map3(function(n,t,e){return[n,t,e]},n,t,e)};var m=function O(){t(this,O)};m.op_Addition=function(n,t){var e=new Set(n);return t.forEach(function(n){e.add(n)}),e},m.union=m.op_Addition,m.unionMany=function(n){return y.fold(function(n,t){return t.forEach(function(t){n.add(t)}),n},new Set,n)},m.op_Subtraction=function(n,t){var e=new Set(n);return t.forEach(function(n){e["delete"](n)}),e},m.difference=m.op_Subtraction,m.intersect=function(n,t){var e=new Set(n);return n.forEach(function(n){t.has(n)||e["delete"](n)}),e},m.intersectMany=function(n){var t=Array.isArray(n)?n:Array.from(n);if(0==t.length)throw"Seq was empty";var e=new Set(t[0]);return y.iter(function(n){for(var r=1;r<t.length;r++)if(!t[r].has(n)){e["delete"](n);break}},t[0]),e},m.isProperSubsetOf=function(n,t){return y.forall(function(n){return t.has(n)},n)&&y.exists(function(t){return!n.has(t)},t)},m.isProperSubset=m.isProperSubsetOf,m.isSubsetOf=function(n,t){return y.forall(function(n){return t.has(n)},n)},m.isSubset=m.isSubsetOf,m.isProperSupersetOf=function(n,t){return m.isProperSubset(t,n)},m.isProperSuperset=m.isProperSupersetOf,m.isSupersetOf=function(n,t){return m.isSubset(t,n)},m.isSuperset=m.isSupersetOf,m.copyTo=function(n,t,e,r){if(!Array.isArray(t)&&!ArrayBuffer.isView(t))throw"Array is invalid";r=r||t.length;for(var o=e||0,u=n[Symbol.iterator]();r--;){var i=u.next();if(i.done)break;t[o++]=i.value}},m.partition=function(n,t){return y.fold(function(t,e){var r=t[0],o=t[1];return n(e)?[r.add(e),o]:[r,o.add(e)]},[new Set,new Set],t)},m.removeInPlace=function(n,t){return t["delete"](n),t},m.remove=function(n,t){return m.removeInPlace(n,new Set(t))},n.Set=m;var h=function P(){t(this,P)};h.containsValue=function(n,t){return y.fold(function(e,r){return e||t.get(r)===n},!1,t.keys())},h.exists=function(n,t){return y.exists(function(t){return n(t[0],t[1])},t)},h.filter=function(n,t){return y.fold(function(t,e){return n(e[0],e[1])?t.set(e[0],e[1]):t},new Map,t)},h.fold=function(n,t,e){return y.fold(function(t,e){return n(t,e[0],e[1])},t,e)},h.foldBack=function(n,t,e){return y.foldBack(function(t,e){return n(t[0],t[1],e)},t,e)},h.forall=function(n,t){return y.forall(function(t){return n(t[0],t[1])},t)},h.iter=function(n,t){return y.iter(function(t){n(t[0],t[1])},t)},h.map=function(n,t){return y.fold(function(t,e){return t.set(e[0],n(e[0],e[1]))},new Map,t)},h.partition=function(n,t){return y.fold(function(t,e){var r=t[0],o=t[1],u=e[0],i=e[1];return n(u,i)?[r.set(u,i),o]:[r,o.set(u,i)]},[new Map,new Map],t)},h.findKey=function(n,t){return y.pick(function(t){return n(t[0],t[1])?t[0]:null},t)},h.tryFindKey=function(n,t){return y.tryPick(function(t){return n(t[0],t[1])?t[0]:null},t)},h.pick=function(n,t){return y.pick(function(t){var e=n(t[0],t[1]);return null!=e?e:null},t)},h.removeInPlace=m.removeInPlace,h.remove=function(n,t){return h.removeInPlace(n,new Map(t))},h.tryPick=function(n,t){return y.tryPick(function(t){var e=n(t[0],t[1]);return null!=e?e:null},t)},n.Map=h;var v=n.Async=function(){function n(){t(this,n)}return e(n,[{key:"cancellationToken",get:function(){return n.__protectedCont(function(n){return n.onSuccess(n.cancelToken)})}}]),n}();v.__protectedCont=function(n){return function(t){if(t.cancelToken.isCancelled)t.onCancel("cancelled");else try{n(t)}catch(e){t.onError(e)}}},v.bind=function(n,t){return v.__protectedCont(function(e){n({onSuccess:function(n){return t(n)(e)},onError:e.onError,onCancel:e.onCancel,cancelToken:e.cancelToken})})},v.combine=function(n,t){return v.bind(n,function(){return t})},v.delay=function(n){return v.__protectedCont(function(t){n()(t)})},v["for"]=function(n,t){var e=n[Symbol.iterator](),r=e.next();return v["while"](function(){
return!r.done},v.delay(function(){var n=t(r.value);return r=e.next(),n}))},v["return"]=function(n){return v.__protectedCont(function(t){t.onSuccess(n)})},v.returnFrom=function(n){return n},v.tryFinally=function(n,t){return v.__protectedCont(function(e){n({onSuccess:function(n){t(),e.onSuccess(n)},onError:function(n){t(),e.onError(n)},onCancel:function(n){t(),e.onCancel(n)},cancelToken:e.cancelToken})})},v.tryWith=function(n,t){return v.__protectedCont(function(e){n({onSuccess:e.onSuccess,onCancel:e.onCancel,cancelToken:e.cancelToken,onError:function(n){e.onSuccess(t(n))}})})},v.using=function(n,t){return v.tryFinally(t(n),function(){n.dispose()})},v["while"]=function(n,t){return n()?v.bind(t,function(){return v["while"](n,t)}):v["return"]()},v.zero=function(){return v.__protectedCont(function(n){n.onSuccess()})},v.start=function(n,t,e,r,o){"function"!=typeof t&&(o=t,t=null),n({onSuccess:t?t:function(){},onError:e?e:function(){},onCancel:r?r:function(){},cancelToken:o?o:{}})},v.startImmediate=v.start,v.startWithContinuations=v.start,v.ignore=function(n){return v.bind(n,function(){return v["return"]()})},v.fromContinuations=function(n){return v.__protectedCont(function(t){return n([t.onSuccess,t.onError,t.onCancel])})},v.startAsPromise=function(n,t){return new Promise(function(e,r){v.startWithContinuations(n,e,r,r,t?t:{})})},v.awaitPromise=function(n){return v.fromContinuations(function(t){n.then(t[0])["catch"](function(n){("cancelled"==n?t[2]:t[1])(n)})})},v.parallel=function(n){return v.awaitPromise(Promise.all(y.map(function(n){return v.startAsPromise(n)},n)))},v["catch"]=function(n){return v.__protectedCont(function(t){n({onSuccess:function(n){t.onSuccess(new u("Choice1Of2",n))},onError:function(n){t.onSuccess(new u("Choice2Of2",n))},onCancel:t.onCancel,cancelToken:t.cancelToken})})},v.sleep=function(n){return v.__protectedCont(function(t){setTimeout(function(){t.cancelToken.isCancelled?t.onCancel("cancelled"):t.onSuccess()},n)})};var g=function(){function n(){t(this,n)}return n.prototype.add=function(n){var t={value:n};this.firstAndLast?(this.firstAndLast[1].next=t,this.firstAndLast=[this.firstAndLast[0],t]):this.firstAndLast=[t,t]},n.prototype.tryGet=function(n){if(this.firstAndLast){var t=this.firstAndLast[0].value;return this.firstAndLast[0].next?this.firstAndLast=[this.firstAndLast[0].next,this.firstAndLast[1]]:delete this.firstAndLast,t}},n}(),b=n.MailboxProcessor=function(){function n(e){t(this,n),this.body=e,this.messages=new g}return n.prototype.__processEvents=function(){if(this.continuation){var n=this.messages.tryGet();if(n){var t=this.continuation;delete this.continuation,t(n)}}},n.prototype.start=function(){v.startImmediate(this.body(this))},n.prototype.receive=function(){var n=this;return v.fromContinuations(function(t){if(n.continuation)throw"Receive can only be called once!";n.continuation=t[0],n.__processEvents()})},n.prototype.postAndAsyncReply=function(n){function t(){e&&r&&r(e)}var e,r,o={reply:function(n){e=n,t()}};return this.messages.add(n(o)),this.__processEvents(),v.fromContinuations(function(n){r=n[0],t()})},n.prototype.post=function(n){this.messages.add(n),this.__processEvents()},n}();b.start=function(n){var t=new b(n);return t.start(),t};var w=function B(n,e,r){t(this,B),this.onNext=n,this.onError=e||function(n){},this.onCompleted=r||function(){}};i.setInterfaces(w.prototype,["System.IObserver"]);var S=function L(n){t(this,L),this.subscribe=n};i.setInterfaces(S.prototype,["System.IObservable"]);var _=function F(){t(this,F)};_.__protect=function(n,t,e){try{t(n())}catch(r){e(r)}},_.map=function(n,t){return new S(function(e){return t.subscribe(new w(function(t){_.__protect(function(){n(t)},e.onNext,e.onError)},e.onError,e.onCompleted))})},_.choose=function(n,t){return new S(function(e){return t.subscribe(new w(function(t){_.__protect(function(){n(t)},function(n){null!=n&&e.onNext(n)},e.onError)},e.onError,e.onCompleted))})},_.filter=function(n,t){return _.choose(function(t){return n(t)?t:null},t)},_.partition=function(n,t){return[_.filter(n,t),_.filter(function(t){return!n(t)},t)]},_.scan=function(n,t,e){return new S(function(r){return e.subscribe(new w(function(e){_.__protect(function(){n(t,e)},function(n){t=n,r.onNext(n)},r.onError)},r.onError,r.onCompleted))})},_.add=function(n,t){t.subscribe(new w(n))},_.subscribe=function(n,t){return t.subscribe(new w(n))},_.pairwise=function(n){return new S(function(t){var e=null;return n.subscribe(new w(function(n){null!=e&&t.onNext([e,n]),e=n},t.onError,t.onCompleted))})},_.merge=function(n,t){return new S(function(e){var r=!1,u=!1,i=!1,a=n.subscribe(new w(function(n){r||e.onNext(n)},function(n){r||(r=!0,e.onError(n))},function(){r||(u=!0,i&&(r=!0,e.onCompleted()))})),c=t.subscribe(new w(function(n){r||e.onNext(n)},function(n){r||(r=!0,e.onError(n))},function(){r||(i=!0,u&&(r=!0,e.onCompleted()))})),f={dispose:function(){a.dispose(),c.dispose()}};return f[o.interfaces]=["System.IDisposable"],f})},_.split=function(n,t){return[_.choose(function(t){var e=n(t);return"Choice1Of2"==e.Case?e.Fields[0]:null},t),_.choose(function(t){var e=n(t);return"Choice2Of2"==e.Case?e.Fields[0]:null},t)]},n.Observable=_;var x=n.Event=function(){function n(e,r){t(this,n),this.sbscrb=e,this.delegates=r||new Array}return n.prototype.trigger=function(n){y.iter(function(t){t(n)},this.delegates)},n.prototype._addHandler=function(n){this.delegates.push(n)},n.prototype._removeHandler=function(n){var t=function(t,e,r){return""+t==""+n},e=this.delegates.findIndex(t);e>-1&&this.delegates.splice(e,1)},n.prototype.subscribe=function(n){var t,e=this;return this._addHandler(n),t={dispose:function(){return e._removeHandler(n)}},t[o.interfaces]=["System.IDisposable"],t},n.prototype.add=function(n){this._addHandler(n)},n.prototype.addHandler=function(n){var t=function(t){return n(void 0,t)};this._addHandler(t)},n.prototype.removeHandler=function(n){var t=function(t){return n(void 0,t)};this._removeHandler(t)},n.prototype._subscribe=function(n){if(this.sbscrb)return this.sbscrb(n);var t,e=n.onNext;return this._addHandler(e),t={dispose:function(){this._removeHandler(e)}},t[o.interfaces]=["System.IDisposable"],t},e(n,[{key:"publish",get:function(){return this}}]),n}();x.add=function(n,t){t._subscribe(new w(n))},x.map=function(n,t){var e=function(e){t._subscribe(new w(function(t){_.__protect(function(){return n(t)},e.onNext,e.onError)},e.onError,e.onCompleted))};return new x(e,t.delegates)},x.choose=function(n,t){var e=function(e){return t._subscribe(new w(function(t){_.__protect(function(){return n(t)},function(n){null!=n&&e.onNext(n)},e.onError)},e.onError,e.onCompleted))};return new x(e,t.delegates)},x.filter=function(n,t){return x.choose(function(t){return n(t)?t:null},t)},x.partition=function(n,t){return[x.filter(n,t),x.filter(function(t){return!n(t)},t)]},x.scan=function(n,t,e){var r=function(r){return e._subscribe(new w(function(e){_.__protect(function(){return n(t,e)},function(n){t=n,r.onNext(n)},r.onError)},r.onError,r.onCompleted))};return new x(r,e.delegates)},x.pairwise=function(n){var t=function(t){var e=null;return n._subscribe(new w(function(n){null!=e&&t.onNext([e,n]),e=n},t.onError,t.onCompleted))};return new x(t,n.delegates)},x.merge=function(n,t){var e=function(e){var r=!1,u=!1,i=!1,a=n._subscribe(new w(function(n){r||e.onNext(n)},function(n){r||(r=!0,e.onError(n))},function(){r||(u=!0,i&&(r=!0,e.onCompleted()))})),c=t._subscribe(new w(function(n){r||e.onNext(n)},function(n){r||(r=!0,e.onError(n))},function(){r||(i=!0,u&&(r=!0,e.onCompleted()))})),f={dispose:function(){a.dispose(),c.dispose()}};return f[o.interfaces]=["System.IDisposable"],f};return new x(e,n.delegates.concat(t.delegates))},x.split=function(n,t){return[x.choose(function(t){var e=n(t);return"Choice1Of2"==e.Case?e.Fields[0]:null},t),x.choose(function(t){var e=n(t);return"Choice2Of2"==e.Case?e.Fields[0]:null},t)]};var A=n.Lazy=function(){function n(e){t(this,n),this.factory=e,this.isValueCreated=!1}return e(n,[{key:"value",get:function(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}}]),n}();A.createFromValue=function(n){return new A(function(){return n})}});